<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <link rel="stylesheet" HREF="../../ccosmos.css" TYPE="text/css" >
    <title>{{aoc.title}}</title>
  </head>

  <table>
    <tr> <th>Case ID</th> <td>{{aoc.case_id}}</td> </tr>
    <tr> <th>Sub-case ID</th> <td>{{aoc.subcase_id}}</td> </tr>
    <tr> <th>Clip</th> <td>{{aoc.clip}}</td> </tr>
    <tr> <th>N subsample</th> <td>{{aoc.n_ss}}</td> </tr>
    <tr> <th>N strips</th> <td>{{aoc.n_strips}}</td> </tr>
    <tr> <th>Piston-tilt</th> <td>{{aoc.piston_tilt}}</td> </tr>
    <tr> <th>Node separation</th> <td>{{aoc.node_sep}} {{aoc.units}}</td> </tr>
    <tr> <th>ifuncs</th> <td>{{aoc.ifuncs_kwargs}}</td> </tr>
    <tr> <th>displ</th> <td>{{aoc.displ_kwargs}}</td> </tr>

  <body>
    <h1>{{title}}</h1>

    {% for subcase in subcases %}
    <h2> AXIS: {{subcase['axis']}}  CORR: {{subcase['corr']}} </h2>

    <table>
      <tr>
        <td> <img src="{{subcase.img_corr_file}}"> </td>
        <td>
          <table>
            <tr>
              <td>
                <table>
                  <tr>
                    <th> FULL </th>
                    <th> Input </th>
                    <th> Resid </th>
                    <th> Ratio </th>
                  </tr>
                  <tr>
                    <th> Mean </th>
                    <td> {{"%.2f"|format(subcase.displ.mean.full)}} </td>
                    <td> {{"%.2f"|format(subcase.resid.mean.full)}} </td>
                    <td> {{"%.2f"|format(subcase.ratios.mean.full)}} </td>
                  </tr>
                  <tr>
                    <th> Std </th>
                    <td> {{"%.2f"|format(subcase.displ.std.full)}} </td>
                    <td> {{"%.2f"|format(subcase.resid.std.full)}} </td>
                    <td> {{"%.2f"|format(subcase.ratios.std.full)}} </td>
                  </tr>
                </table>
              </td>
            </tr>
            <tr> <td> &nbsp; </td> </tr>
            <tr>
              <td>
                <table>
                  <tr>
                    <th> CLIPPED </th>
                    <th> Input </th>
                    <th> Resid </th>
                    <th> Ratio </th>
                  </tr>
                  <tr>
                    <th> Mean </th>
                    <td> {{"%.2f"|format(subcase.displ.mean.clip)}} </td>
                    <td> {{"%.2f"|format(subcase.resid.mean.clip)}} </td>
                    <td> {{"%.2f"|format(subcase.ratios.mean.clip)}} </td>
                  </tr>
                  <tr>
                    <th> Std </th>
                    <td> {{"%.2f"|format(subcase.displ.std.clip)}} </td>
                    <td> {{"%.2f"|format(subcase.resid.std.clip)}} </td>
                    <td> {{"%.2f"|format(subcase.ratios.std.clip)}} </td>
                  </tr>
                </table>
              </td>
            </tr>
            <tr>
              <td> <img src="{{subcase.scatter_file}}" /> </td>
            </tr>
            <tr>
              <td> <img src="{{subcase.enc_energy_file}}" /> </td>
            </tr>
            <tr>
              <td> <img src="{{subcase.axial_resid_file}}" /> </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
    {% endfor %}
    <hr>
  </body>
</html>
